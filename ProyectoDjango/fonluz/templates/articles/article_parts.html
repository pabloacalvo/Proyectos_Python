<!DOCTYPE html>
{% extends 'layout/layout_bootstrap.html' %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% block title %}
        Stock de partes
    {% endblock %}
</head>
<body>
{% block seccion %}
    {{ title }}
    <h1><i class="bi bi-screwdriver"></i></h1>
{% endblock %}
</body>
{% block content %}
    <!-- FILTRO DE BUSQUEDA-->
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <form method="GET">
                <div class="input-group mb-4">
                    <div class="form-floating">
                        <select class="form-select" name="filterType" id="floatingSelect" aria-label="">
                            {% for key,filter in filters.items %}
                                <option value="{{ key }}" {% if key == filterType %} selected {% endif %}>{{ key }}</option>
                            {% endfor %}
                        </select>
                        <label for="floatingSelect">Filtrar por</label>
                    </div>
                    <input class="form-control" type="text" name="filterValue" value="{{ filterTxt }}" placeholder="....">
                    <button class="btn btn-primary" type="submit">Buscar</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!--TABLA-->
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead class="table-warning">
            <tr>
                <th>ID</th>
                <th>Pieza</th>
                <th>Descripcion</th>
                <th>Cantidad</th>
                <th>Costo</th>
                <th>Stock valorizado</th>
            </tr>
            </thead>
            <tbody>
        {% for part in parts %}
            <tr>
                <td>{{ part.id }}</td>
                <td>{{ part.name }}</td>
                <td>{{ part.description }}</td>
                <td>{{ part.stock }}</td>
                <td>$ {{part.cost }}</td>
                <td>$ {{ part.stock_value }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
            {% if article.image != 'null' and article.image.url|length >= 1 %}
                <div class="text-center">
                    <img class="img-fluid" src="{{ article.image.url }}"/>
                </div>
            {% endif %}

<div class="pagination">
            {% if parts.has_previous %}
            <nav aria-label="Page navigation example">
              <ul class="pagination justify-content-center">
                <li class="page-item">
                  <a href="?page={{ parts.previous_page_number }}" class="page-link">Anterior</a>
                </li>
            {% endif %}
                    {% for page in parts.paginator.page_range %}
                        {% if parts.number == page %}
                            <li class="page-item active" aria-current="page"><a class="page-link" href="#">{{ page }}</a></li>
                        {% else %}
                            <li class="page-item"><a class="page-link" href="?page={{ page }}">{{ page }}</a></li>
                        {% endif %}
                    {% endfor %}
                {% if parts.has_next %}
                    <li class="page-item">
                        <a class="page-link" href="?page={{ parts.next_page_number }}">Siguiente</a>
                    </li>
                {% endif %}
              </ul>
            </nav>

        </div>
{% endblock %}
</html>